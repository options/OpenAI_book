## 9.2 Audio APIλ¥Ό ν†µν• μμ—°μ¤λ¬μ΄ TTS

OpenAIμ Text-to-Speech(TTS) κΈ°λ¥μ€ Audio APIλ¥Ό ν†µν•΄ ν…μ¤νΈ κΈ°λ° μ‘λ‹µμ„ κ³ ν’μ§μ μμ—°μ¤λ¬μ΄ μμ„±μΌλ΅ λ³€ν™ν•  μ μλ„λ΅ μ§€μ›ν•©λ‹λ‹¤. μ΄ κΈ°λ¥μ€ κΈ°μ΅΄μ λ‹¨μ΅°λ΅μ΄ μμ„± ν•©μ„±κ³Όλ” λ‹¬λ¦¬, κ°μ •κ³Ό μ–µμ–‘, λ¬Έλ§¥μ„ κ³ λ ¤ν• μ‚¬λλ‹¤μ΄ λ°ν™”λ¥Ό μƒμ„±ν•  μ μμ–΄, μ‹¤μ  μ„λΉ„μ¤μ™€ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ‹¤μ©μ μΈ μμ„± μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•  μ μκ² ν•΄μ¤λ‹λ‹¤.

μ΄ μ μ—μ„λ” OpenAIμ Audio APIλ¥Ό μ΄μ©ν•΄ TTS(Text-to-Speech)λ¥Ό ν™μ©ν•λ” λ°©μ‹κ³Ό, μ£Όμ” νλΌλ―Έν„°, μμ„± μ ν•, μ‹¤μµ μμ κΉμ§€ λ‹¨κ³„λ³„λ΅ μƒμ„Έν μ†κ°ν•©λ‹λ‹¤.



### 9.2.1 OpenAI Audio TTS κ°μ”

OpenAIλ” 2023λ…„ ν•λ°κΈ°λ¶€ν„° Audio APIλ¥Ό ν†µν•΄ TTS κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤. μ΄λ” Whisperλ¥Ό ν™μ©ν• STT(Speech-to-Text) κΈ°λ¥κ³Ό νΈν™λλ” λ°λ€ λ°©ν–¥μ APIλ΅, κ°λ°μλ” ν…μ¤νΈλ¥Ό μμ„±μΌλ΅ λ³€ν™ν•μ—¬ μ‚¬μ©μμ—κ² μ¤λ””μ¤ ν•νƒλ΅ μ κ³µν•  μ μμµλ‹λ‹¤.

TTS κΈ°λ¥μ€ λ‹¤μκ³Ό κ°™μ€ νΉμ§•μ„ κ°€μ§‘λ‹λ‹¤:

- λ‹¤μ–‘ν• λ©μ†λ¦¬ ν”„λ¦¬μ…‹ μ§€μ› (μ΄ 6μΆ…μ κ³ ν’μ§ μμ„± μ κ³µ)
- μμ—°μ¤λ¬μ΄ μ–µμ–‘κ³Ό λ¬Έμ¥ λ‹¨μ„μ λ°ν™”
- λΉ λ¥Έ μƒμ„± μ‹κ°„ (μλ°± λ°€λ¦¬μ΄~μμ΄ μ΄λ‚΄)
- λ‹¤μ–‘ν• μ–Έμ–΄ μ§€μ› (κΈ°λ³Έμ μΌλ΅ μμ–΄ μ¤‘μ‹¬μ΄μ§€λ§, ν•κµ­μ–΄, μΌλ³Έμ–΄, ν”„λ‘μ¤μ–΄ λ“±λ„ μ§€μ›λ¨)



### 9.2.2 Audio TTS API μ—”λ“ν¬μΈνΈ λ° μ”μ²­ λ°©μ‹

TTSλ¥Ό μƒμ„±ν•λ ¤λ©΄ OpenAIμ Audio APIμ `/v1/audio/speech` μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. μ΄ APIλ” `POST` λ°©μ‹μΌλ΅ λ™μ‘ν•λ©°, μμ„±ν™”λ¥Ό μ›ν•λ” ν…μ¤νΈμ™€ κ΄€λ ¨ νλΌλ―Έν„°λ“¤μ„ JSON λ³Έλ¬Έ λλ” νΌ λ°μ΄ν„°λ΅ ν¬ν•¨ν•μ—¬ μ”μ²­ν•©λ‹λ‹¤.

μ”μ²­ μμ‹ (Python SDKμ™€ HTTP λ°©μ‹ μ κ³µ):

#### (1) Python SDK μμ 

```python
import openai

openai.api_key = "your-api-key"

response = openai.audio.speech.create(
    model="tts-1",
    input="μ•λ…•ν•μ„Έμ”. μ¤λ λ‚ μ”¨λ” λ§‘κ³  μΎμ²­ν•©λ‹λ‹¤.",
    voice="nova",
    response_format="mp3"
)

# μƒμ„±λ μμ„± νμΌ μ €μ¥
with open("output.mp3", "wb") as f:
    f.write(response.content)
```

#### (2) HTTP μ§μ ‘ νΈμ¶ μμ‹ (cURL)

```bash
curl -X POST https://api.openai.com/v1/audio/speech \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
        "model": "tts-1",
        "input": "Hello! Welcome to our AI assistant service.",
        "voice": "shimmer",
        "response_format": "mp3"
      }' --output output.mp3
```



### 9.2.3 μ£Όμ” νλΌλ―Έν„° μ„¤λ…

| νλΌλ―Έν„°λ…         | μ„¤λ… |
|--------------------|------|
| `model`            | μ‚¬μ© λ¨λΈ: `tts-1` λλ” `tts-1-hd`. `tts-1-hd`λ” κ³ μμ§ λ²„μ „μΌλ΅ λ” μμ—°μ¤λ¬μ΄ λ©μ†λ¦¬λ¥Ό μ κ³µν•¨ |
| `input`            | μμ„±μΌλ΅ λ³€ν™ν•  ν…μ¤νΈ λ¬Έμμ—΄ (μµλ€ μ•½ 4,096μ) |
| `voice`            | μ‚¬μ©ν•  λ©μ†λ¦¬ ν”„λ¦¬μ…‹ μ΄λ¦„ (`alloy`, `echo`, `fable`, `onyx`, `nova`, `shimmer`) |
| `response_format`  | μ¶λ ¥ ν¬λ§·: `mp3`, `opus`, `aac`, `flac`, `pcm`, `wav` λ“±μ„ μ§€μ› |
| `speed` (μ„ νƒμ )   | λ§ν•κΈ° μ†λ„ (μ†μκ°’, κΈ°λ³Έκ°’ 1.0). μ: 0.7μ€ μ²μ²ν, 1.3μ€ λΉ λ¥΄κ² λ§ν•¨ (μΌλ¶€ λ¨λΈμ—μ„λ§ μ§€μ› μμ •) |

κ° voiceλ” μ„λ΅ λ‹¤λ¥Έ μμƒ‰κ³Ό λ§ν¬λ¥Ό κ°–κ³  μμ–΄ μ• ν”λ¦¬μΌ€μ΄μ… λ©μ μ— λ”°λΌ μ μ ν• μμ„±μ„ μ„ νƒν•  μ μμµλ‹λ‹¤.

μλ¥Ό λ“¤μ–΄:

- `nova`: λ”°λ»ν•κ³  λ§¤λ„λ¬μ΄ μ—¬μ„± λ©μ†λ¦¬ (μ¶”μ²)
- `onyx`: κΉκ³  μ¤‘ν›„ν• λ‚¨μ„± λ©μ†λ¦¬
- `shimmer`: ν™κΈ°μ°¨κ³  μƒκΈ° μλ” λ©μ†λ¦¬
- `alloy`: μ¤‘μ„±μ μΈ λ©μ†λ¦¬, μ„¤λ…ν• λ„μ°λ―Έ ν†¤μ— μ ν•©



### 9.2.4 λ‹¤κµ­μ–΄ λ° ν•κµ­μ–΄ μ§€μ›

OpenAIμ TTS λ¨λΈμ€ μ£Όλ΅ μμ–΄μ— μµμ ν™”λμ–΄ μμ§€λ§, μ…λ ¥ ν…μ¤νΈκ°€ ν•κµ­μ–΄μΌ κ²½μ°μ—λ„ μƒλ‹Ήν μμ—°μ¤λ½κ² ν•©μ„±λ©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, λ‹¤μκ³Ό κ°™μ€ ν…μ¤νΈμ—λ„ λ†’μ€ μμ¤€μ ν•κµ­μ–΄ λ°μμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

```python
response = openai.audio.speech.create(
    model="tts-1",
    input="μ•λ…•ν•μ„Έμ”, GPT κΈ°λ° μμ„± μ„λΉ„μ¤λ¥Ό μ•λ‚΄ν•΄λ“λ¦¬κ² μµλ‹λ‹¤.",
    voice="onyx",
    response_format="mp3"
)
```

λ°μ μ •ν™•λ„λ” μμ–΄μ— λΉ„ν•΄ λ‹¤μ† λ‚®μ„ μ μμΌλ‚, μΈμ‚¬λ§, κ°„λ‹¨ν• μ•λ‚΄ λ¬Έμ¥μ—μ„λ” μ¶©λ¶„ν μ‹¤μ©μ„±μ„ κ°–μ¶¥λ‹λ‹¤.

- λ‹¤κµ­μ–΄ μ§€μ›μ„ μ„ν• μ „λµ:
  - λ¬Έμ¥μ λ¬Έλ§¥μ„ κ³ λ ¤ν•΄ λ¬Έλ²•μ μΌλ΅ μ¬λ°”λ¥Έ λ¬Έμ¥μ„ μ…λ ¥ν•  κ²ƒ
  - λ΅λ§μ ν‘κΈ°λ²•μ΄λ‚ νΌμ©μ„ μ§€μ–‘ν•κ³  ν• μ–Έμ–΄λ΅ ν†µμΌν•  κ²ƒ
  - νΉμ • κ³ μ λ…μ‚¬λ‚ μ™Έλμ–΄λ” λ…ν™•ν•κ² ν‘κΈ°ν•λ” κ²ƒμ΄ λ°μ ν’μ§ ν–¥μƒμ— ν¨κ³Όμ 



### 9.2.5 μμ„± ν•©μ„± κ²°κ³Ό μ €μ¥ λ° μ¶λ ¥

μƒμ„±λ μ¤λ””μ¤λ” λ°”μ΄λ„λ¦¬ μ¤νΈλ¦ΌμΌλ΅ λ°ν™λ©λ‹λ‹¤. λ”°λΌμ„ μ΄λ¥Ό μ§μ ‘ μ €μ¥ν•κ±°λ‚ μ›Ήμ•± λ° λ¨λ°”μΌ μ•±μ—μ„ μ¤νΈλ¦¬λ° μ²λ¦¬ν•  μ μμµλ‹λ‹¤.

- λ΅μ»¬ μ €μ¥ (MP3):
  ```python
  with open("tts_output.mp3", "wb") as f:
      f.write(response.content)
  ```

- Streamlit/Web μ•± μ—°λ™ (Audio Playback):
  ```python
  import streamlit as st

  st.audio("tts_output.mp3", format="audio/mp3")
  ```

- Web API μ‘λ‹µμΌλ΅ Base64 μΈμ½”λ”© μ „μ†΅:
  ```python
  import base64

  audio_base64 = base64.b64encode(response.content).decode("utf-8")
  ```



### 9.2.6 ν™μ© μ‚¬λ΅€ μμ‹

TTS κΈ°μ μ€ λ‹¤μ–‘ν• μ„λΉ„μ¤μ— μ‹¤μ‹κ°„ μμ„± μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•  μ μμµλ‹λ‹¤. μ•„λλ” ν™μ© κ°€λ¥ν• λ‡ κ°€μ§€ μ‹λ‚λ¦¬μ¤μ…λ‹λ‹¤.

- π“ κ³ κ°μ„Όν„° μ•λ‚΄ μΈνΈλ΅ λ©”μ‹μ§€ μƒμ„±
- π™οΈ νμΊμ¤νΈ μ½ν…μΈ  μλ™ μμ„±ν™”
- π‘©β€π« κµμ΅μ© μ½ν…μΈ (μ: λ‹¨μ–΄ μ„¤λ…, κ°•μ μ”μ•½) μμ„± λ°°ν¬
- π§‘β€π’» μ‹κ° μ•½μ λ€μƒ μ •λ³΄ μ „λ‹¬ λ³΄μ΅°
- π¤– μ±—λ΄‡μ μμ„± μ¶λ ¥ κΈ°λ¥

μμ‹: GPT-4λ΅ μ”μ•½ν• λ¬Έμ„λ¥Ό μ‚¬μ©μκ°€ λ“¤μ–΄λ³Ό μ μλ” ν•νƒλ΅ λ°ν™

```python
summary = gpt_call_to_summarize(doc_text)

speech = openai.audio.speech.create(
    model="tts-1",
    input=summary,
    voice="fable",
    response_format="mp3"
)

with open("summary_audio.mp3", "wb") as f:
    f.write(speech.content)
```



### 9.2.7 μ£Όμμ‚¬ν•­ λ° ν•κ³„

- λ‹¨μ–΄ λ³„ κ°•μ„Έ μ§€μ • λλ” κ°μ • μ΅°μ μ€ ν„μ¬ μ ν•μ μ΄λ©° μ΅°μ • λ¶κ°€ (SSML λ―Έμ§€μ›)
- μ‹¤μ‹κ°„ TTSλ΅ μ‘λ‹µν•  κ²½μ° μ‘λ‹µ μ²λ¦¬ μ§€μ—° κ°€λ¥μ„±
- λ†’μ€ μ†λ„λ΅ λ‹¤λ‰ νΈμ¶ μ‹ Rate Limitingμ— μ μν•΄μ•Ό ν•¨
- ν•κµ­μ–΄μ κ²½μ° κ°„νΉ μ–΄ν¬λ‚ μ–µμ–‘μ΄ λ¶€μμ—°μ¤λ¬μΈ μ μμ



### 9.2.8 κ²°λ΅  λ° ν–¥ν›„ μ „λ§

OpenAIμ TTS κΈ°μ μ€ GPT κΈ°λ° μμ—°μ–΄ μƒμ„± λ¥λ ¥μ„ μμ„±μΌλ΅ ν™•μ¥μ‹ν‚¤λ©°, μΈν„°νμ΄μ¤ μ—­ν• μ ν¨λ¬λ‹¤μ„μ„ λ¬Έμμ—μ„ μμ„±μΌλ΅ λ„“νλ” λ„κµ¬μ…λ‹λ‹¤. μ•„μ§ λ‹¤μ–‘ν• κ°μ • μ—°κΈ°λ‚ λ©€ν‹° ν†¤ μ μ–΄μ—λ” ν•κ³„κ°€ μμΌλ‚, λ‹¨μ μ‘λ‹µμ΄λ‚ λ‚΄λ μ΄μ… μ¤‘μ‹¬μ μ‘μ©μ—λ” λ§¤μ° ν¨κ³Όμ μΈ μ„±λ¥μ„ λ³΄μ…λ‹λ‹¤.

ν–¥ν›„ APIκ°€ SSML(Speech Synthesis Markup Language) μ§€μ›μ„ λ„μ…ν•κ±°λ‚ μ‚¬μ©μ λ§μ¶¤ν• λ³΄μ΄μ¤ ν•™μµ κΈ°λ¥μ΄ ν™μ„±ν™”λλ‹¤λ©΄, λ”μ± κ°μΈν™”λκ³  λ‹¤μ΄λ‚΄λ―Ήν• μμ„± μ„λΉ„μ¤λ¥Ό κµ¬μ¶•ν•  μ μκ² λ  κ²ƒμ…λ‹λ‹¤.

λ‹¤μ μ μ—μ„λ” μ΄ Audio APIμ™€ Whisperμ STT κΈ°λ¥μ„ μ΅°ν•©ν•μ—¬ μμ„± κΈ°λ° μΈν„°νμ΄μ¤λ¥Ό κµ¬μ„±ν•λ” μ „μ²΄μ μΈ μ‹¤μµ λ°©μ‹μ— λ€ν•΄ μ†κ°ν•©λ‹λ‹¤.